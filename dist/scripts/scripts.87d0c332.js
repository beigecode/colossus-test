"use strict";angular.module("colossusAppApp",["ngResource","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/:pool_id",{templateUrl:"views/pool.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("colossusAppApp").controller("MainCtrl",["$scope","apiService","$routeParams",function(a,b,c){a.pools=[],a.groups=[],a.pool_id=c.pool_id,b.getPools().then(function(b){a.groups=b[0].groups,console.log("scope groups",a.groups)}),b.getPool(c.pool_id).then(function(b){a.pool=b,a.stakeOptions=a.pool.pool_stake.stakes,a.pool.selectedOption=a.stakeOptions[0],console.log("le pool",a.pool)}),a.toggle=function(a){a.selected=!a.selected,console.log(a)}}]),angular.module("colossusAppApp").service("apiService",["$http","$q",function(a,b){function c(){var b=a({method:"get",url:"https://colossusdevtest.herokuapp.com/api/pools.json",params:{action:"get"}});return b.then(e,f)}function d(b){var c=a({method:"get",url:"https://colossusdevtest.herokuapp.com/api/pools/"+b+".json",params:{action:"get"}});return c.then(e,f)}function e(a){return a.data}function f(a){return angular.isObject(a.data)&&a.data.message?b.reject(a.data.message):b.reject("Error occured")}return{getPools:c,getPool:d}}]),angular.module("colossusAppApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="jumbotron"> <h1>ColossusBets</h1> </div> <div class="row marketing"> <table class="table"> <thead> <tr> <th>Correct Score</th> </tr> </thead> <tbody> <tr ng-repeat="pool in groups[0].pools"> <td><a href="#/{{pool.id}}">{{pool.name}}</a></td> </tr> </tbody> </table> <table class="table"> <thead> <tr> <th>1x2</th> </tr> </thead> <tbody> <tr ng-repeat="pool in groups[1].pools"> <td><a href="#/{{pool.id}}">{{pool.name}}</a></td> </tr> </tbody> </table> </div>'),a.put("views/pool.html",'<p>This is the pool view for pool {{pool_id}}</p> <ul class="list-group"> <li class="list-group-item">Pool name - {{pool.pool_info.name}}</li> <li class="list-group-item">Headline prize - {{pool.pool_info.headline_prize | currency: "£"}}</li> <li class="list-group-item">Status - {{pool.pool_info.status}}</li> <li class="list-group-item">Starts - {{pool.pool_info.sched_start | date:\'fullDate\'}}</li> </ul> <label for="stake">Select Stake:</label> <select name="stake" ng-model="pool.selectedOption" ng-options="o as (o | currency: \'£\') for o in stakeOptions"> </select> <div class="leg-wrap" ng-repeat="leg in pool.legs"> <ul class="leg"> <li ng-click="toggle(selection)" ng-class="{\'selected\':selection.selected}" class="unit" ng-repeat="selection in leg.selections">{{selection.name}}</li> </ul> </div>')}]);